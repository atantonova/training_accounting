{"version":3,"sources":["components/sidedrawer/DrawerToggleButton.js","components/toolbar/Toolbar.js","components/sidedrawer/SideDrawer.js","components/backdrop/Backdrop.js","components/util/Table.js","service/AuthHeader.js","components/util/DateTime.js","components/certowns/AllUserCertificates.js","components/util/EditableTable.js","components/util/Report.js","components/certificates/AllCertificates.js","service/AuthService.js","service/MenuService.js","components/login/Login.js","components/login/Register.js","components/users/UserProfile.js","components/occupation/Occupations.js","components/certowns/Certificate.js","components/certowns/AddCertificateOwning.js","components/occupation/AddOccupation.js","components/certificates/AddCertificate.js","components/notifications/CertExpiring.js","components/users/Users.js","components/notifications/Calendar.js","components/users/Employees.js","components/users/EmployeesCertificates.js","App.js","index.js"],"names":["drawerToggleButton","props","className","onClick","click","toolbar","drawerClickHandler","company","href","logout","SideDrawer","drawerClasses","this","show","headers","Object","keys","menu","map","header","name","React","Component","backdrop","Table","columns","data","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","authHeader","user","JSON","parse","localStorage","getItem","accessToken","Authorization","convertTimestampToDate","timestamp","Date","toLocaleDateString","CERT_OWN_URL","AllUserCertifiactes","useState","certificates","setCertificates","useEffect","a","axios","get","result","getCertificates","cert_own","certificate","descr","description","dateReceived","username","owner","moreButton","id","deleteButton","deleteRow","delete","then","response","console","log","filter","c","error","Header","accessor","defaultColumn","Cell","initialValue","value","index","updateMyData","setValue","onChange","e","target","onBlur","NotEditableCell","Fragment","EditableTable","i","allCells","length","makeReport","workbook","ExcelJS","Workbook","sheet","addWorksheet","key","dataChunk","j","addRow","excelFileName","now","toString","xlsx","writeBuffer","blob","Blob","type","FileSaver","saveAs","CERTIFICATE_URL","AllCertificates","edit","setEdit","tableData","daysValid","trainingDurationDays","editedCert","find","put","slice","API_URL","ROLES_URL","password","post","setItem","stringify","removeItem","emailAddress","firstName","lastName","middleName","supervisorUsername","dateStartWorking","phoneNumber","occupation","getRoles","Профиль","Уведомления","Календарь","Настройки","Общие","Сотрудники","Администратор","Должности","Пользователи","Сертификаты","getMenu","userMenu","roles","AuthService","getCurrentUserRoles","includes","Login","setLoading","message","setMessage","useForm","register","errors","formState","handleSubmit","onSubmit","login","history","push","window","location","reload","resMessage","htmlFor","placeholder","required","Register","allUsers","users","setUsers","occupations","setOccupations","startDate","setStartDate","getUsers","getOccupations","catch","minLength","maxLength","selected","date","o","u","style","marginLeft","UserProfile","userCurr","setUserCurr","currentUserId","getCurrentUser","getUser","comapny","OCCUPATION_URL","Occupations","certNames","requiredCertificates","join","Certificate","useParams","cert","setCert","img","image","setImage","getCertificate","getImage","responseType","URL","createObjectURL","src","AddCertificateOwning","file","setFile","certificateName","formData","FormData","jsonBodyData","append","encType","event","files","size","onChangeFile","AddOccupation","d","label","dto","cols","width","marginRight","isMulti","options","styles","AddCertificate","valueAsNumber","CertExpiring","expiring","setExpiring","allcert","certOwn","dateRec","setMonth","getMonth","end","dateEnd","USERS_URL","Users","occupationName","supervisorName","supervisor","fullName","Calendar","groups","setGroups","getGroups","g","dateStart","daysLong","groupNumber","Employees","EmployeesCertifiactes","App","setState","prevState","sideDrawerOpen","backdropClickHandler","logOut","bind","state","currentUser","undefined","errorInfo","height","marginTop","to","path","component","AllUserCertificates","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e107cfdb.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"./DrawerToggleButton.css\";\n\nconst drawerToggleButton = (props) => (\n  <button className=\"toggle-button\" onClick={props.click}>\n    <div className=\"toggle-button__line\" />\n    <div className=\"toggle-button__line\" />\n    <div className=\"toggle-button__line\" />\n  </button>\n);\n\nexport default drawerToggleButton;\n","import React from \"react\";\n\nimport \"./Toolbar.css\";\nimport DrawerToggleButton from \"../sidedrawer/DrawerToggleButton\";\n\nconst toolbar = (props) => (\n  <header className=\"toolbar\">\n    <nav className=\"toolbar__navigation\">\n      <div>\n        <DrawerToggleButton click={props.drawerClickHandler} />\n      </div>\n      <div className=\"toolbar__logo\">\n        <h3>{props.company}</h3>\n      </div>\n      <div className=\"spacer\" />\n      <div className=\"toolbar__navigation-items\">\n        <ul>\n          <li>\n            <a href=\"/\" onClick={props.logout}>\n              Выход\n            </a>\n          </li>\n          <li>\n            <a href=\"/profile\">Профиль</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </header>\n);\n\nexport default toolbar;\n","import React from \"react\";\n\nimport \"./SideDrawer.css\";\n\nclass SideDrawer extends React.Component {\n  render() {\n    let drawerClasses = \"side-drawer\";\n    if (this.props.show) {\n      drawerClasses = \"side-drawer open\";\n    }\n    let headers = Object.keys(this.props.menu);\n    return (\n      <nav className={drawerClasses}>\n        {headers.map((header) => {\n          return (\n            <ul key={header}>\n              <li className=\"headerMenuItem\">{header}</li>\n              {Object.keys(this.props.menu[header]).map((name) => {\n                return (\n                  <li key={name} className=\"menuItem\">\n                    <a href={this.props.menu[header][name]}>{name}</a>\n                  </li>\n                );\n              })}\n            </ul>\n          );\n        })}\n      </nav>\n    );\n  }\n}\n\nexport default SideDrawer;\n","import React from \"react\";\n\nimport \"./Backdrop.css\";\n\nconst backdrop = (props) => <div className=\"backdrop\" onClick={props.click} />;\n\nexport default backdrop;\n","import React, { useEffect, useState } from \"react\";\nimport { useTable } from \"react-table\";\n\nimport \"./Table.css\";\n\nexport default function Table({ columns, data }) {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns, data });\n\n  return (\n    <table {...getTableProps()} className=\"table\">\n      <thead className=\"tableHeader\">\n        {headerGroups.map((headerGroup) => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map((column) => (\n              <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()} className=\"tableBody\">\n        {rows.map((row) => {\n          prepareRow(row);\n          return (\n            <tr {...row.getRowProps()} className=\"tableRow\">\n              {row.cells.map((cell) => {\n                return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n\n  if (user && user.accessToken) {\n    return { Authorization: \"Bearer \" + user.accessToken };\n  } else {\n    return {};\n  }\n}\n","const convertTimestampToDate = (timestamp) => {\n  var date = new Date(timestamp);\n  return date.toLocaleDateString();\n};\n\nexport default convertTimestampToDate;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport convertTimestampToDate from \"../util/DateTime\";\n\nimport \"./AllUserCertificates.css\";\n\nconst CERT_OWN_URL = \"http://localhost:8080/api/cert_own/self/\";\n\nfunction AllUserCertifiactes() {\n  const [certificates, setCertificates] = useState({ certificates: [] });\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(CERT_OWN_URL, {\n        headers: authHeader(),\n      });\n      setCertificates({\n        certificates: result.data,\n      });\n    };\n\n    getCertificates();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Название\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Описание\",\n      accessor: \"descr\",\n    },\n    {\n      Header: \"Дата выдачи\",\n      accessor: \"dateReceived\",\n    },\n    {\n      Header: \"Владелец\",\n      accessor: \"username\",\n    },\n    {\n      Header: \"Подробнее\",\n      accessor: \"moreButton\",\n    },\n    {\n      Header: \"Удалить\",\n      accessor: \"deleteButton\",\n    },\n  ];\n  let data = certificates.certificates\n    ? certificates.certificates.map((cert_own) => {\n        return {\n          name: cert_own.certificate === null ? \"\" : cert_own.certificate.name,\n          descr:\n            cert_own.certificate === null\n              ? \"\"\n              : cert_own.certificate.description,\n          dateReceived: convertTimestampToDate(cert_own.dateReceived),\n          username: cert_own.owner.username,\n          moreButton: <a href={\"self/\" + cert_own.id}>Подробнее</a>,\n          deleteButton: (\n            <button\n              className=\"buttonDelete\"\n              key={cert_own.name}\n              onClick={() => deleteRow(cert_own.id)}\n            >\n              &times;\n            </button>\n          ),\n        };\n      })\n    : [];\n\n  const deleteRow = (id) => {\n    axios.delete(CERT_OWN_URL + id, { headers: authHeader() }).then(\n      (response) => {\n        console.log(\"delete success\");\n        setCertificates({\n          certificates: certificates.certificates.filter((c) => c.id !== id),\n        });\n      },\n      (error) => console.log(\"error\")\n    );\n  };\n\n  return (\n    <div>\n      <h1>Мои сертификаты</h1>\n      <Table columns={columns} data={data} />\n      <a className=\"addButton\" href=\"/cert/self/add\">\n        Добавить сертификат\n      </a>\n    </div>\n  );\n}\n\nexport default AllUserCertifiactes;\n","import React, { useEffect, useState } from \"react\";\nimport { useTable } from \"react-table\";\n\nimport \"./Table.css\";\nconst EditableCell = ({\n  value: initialValue,\n  row: { index },\n  column: { id },\n  updateMyData, // This is a custom function that we supplied to our table instance\n}) => {\n  // We need to keep and update the state of the cell normally\n  const [value, setValue] = useState(initialValue);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  // We'll only update the external data when the input is blurred\n  const onBlur = () => {\n    updateMyData(index, id, value);\n  };\n\n  // If the initialValue is changed external, sync it up with our state\n  React.useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  return (\n    <input\n      className=\"inputEdit\"\n      value={value !== null ? value : \"\"}\n      onChange={onChange}\n      onBlur={onBlur}\n    />\n  );\n};\n\nconst defaultColumn = {\n  Cell: EditableCell,\n};\n\nconst NotEditableCell = ({\n  value: initialValue,\n  row: { index },\n  column: { id },\n}) => {\n  return <React.Fragment>{initialValue}</React.Fragment>;\n};\n\nconst nonEditableColumn = {\n  Cell: NotEditableCell,\n};\n\nexport default function EditableTable({ columns, data, updateMyData }) {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns, data, defaultColumn, updateMyData });\n\n  return (\n    <table {...getTableProps()} className=\"table\">\n      <thead className=\"tableHeader\">\n        {headerGroups.map((headerGroup) => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map((column) => (\n              <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()} className=\"tableBody\">\n        {rows.map((row) => {\n          prepareRow(row);\n          return (\n            <tr {...row.getRowProps()} className=\"tableRow\">\n              {row.cells.map((cell, i) => {\n                return (\n                  <td {...cell.getCellProps()}>\n                    {i !== row.allCells.length - 1\n                      ? cell.render(\"Cell\")\n                      : cell.render(NotEditableCell)}\n                  </td>\n                );\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ExcelJS from \"exceljs\";\nimport FileSaver from \"file-saver\";\n\nfunction makeReport(name, columns, data) {\n  const blobType =\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n  const workbook = new ExcelJS.Workbook();\n  const sheet = workbook.addWorksheet(name);\n  sheet.columns = columns.map((c) => ({\n    header: c.Header,\n    key: c.accessor,\n  }));\n  for (let i = 0; i < data.length; ++i) {\n    let row = {};\n    let dataChunk = data[i];\n    for (let j = 0; j < columns.length; ++j) {\n      let key = columns[j].accessor;\n      row[key] = dataChunk[key];\n    }\n    sheet.addRow(row);\n  }\n  const excelFileName = name + Date.now().toString() + \".xlsx\";\n  workbook.xlsx.writeBuffer().then((data) => {\n    const blob = new Blob([data], { type: blobType });\n    FileSaver.saveAs(blob, excelFileName);\n  });\n}\nexport default makeReport;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport EditableTable from \"../util/EditableTable\";\nimport makeReport from \"../util/Report\";\n\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert/\";\n\nfunction AllCertificates() {\n  // const [message, setMessage] = useState(\"\");\n  const [certificates, setCertificates] = useState([]);\n  const [edit, setEdit] = useState(false);\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(CERTIFICATE_URL, {\n        headers: authHeader(),\n      });\n      setCertificates(result.data);\n    };\n\n    getCertificates();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Название\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Описание\",\n      accessor: \"description\",\n    },\n    {\n      Header: \"Срок действия (мес.)\",\n      accessor: \"daysValid\",\n    },\n    {\n      Header: \"Длительность обучения (дней)\",\n      accessor: \"trainingDurationDays\",\n    },\n    {\n      Header: \"Удалить\",\n      accessor: \"deleteButton\",\n    },\n  ];\n\n  const deleteRow = (id) => {\n    axios.delete(CERTIFICATE_URL + id, { headers: authHeader() }).then(\n      (response) => {\n        setCertificates(certificates.filter((c) => c.id !== id));\n      },\n      (error) => console.log(\"Ошибка сервера: \" + error)\n    );\n  };\n\n  const tableData = certificates.map((c) => ({\n    name: c.name,\n    description: c.description,\n    daysValid: c.daysValid,\n    trainingDurationDays: c.trainingDurationDays,\n    deleteButton: (\n      <button\n        className=\"buttonDelete\"\n        key={c.name}\n        onClick={() => deleteRow(c.id)}\n      >\n        &times;\n      </button>\n    ),\n  }));\n\n  const onUpdate = (index, id, value) => {\n    let editedCert = certificates.find((c) => c.name === tableData[index].name);\n    editedCert[id] = value;\n    axios.put(CERTIFICATE_URL + editedCert.id, editedCert, {\n      headers: authHeader(),\n    });\n  };\n\n  const getReport = () => {\n    makeReport(\"certificates\", columns.slice(0, columns.length - 1), tableData);\n  };\n\n  return (\n    <div>\n      <h1>Зарегистрированные сертификаты</h1>\n      {edit ? (\n        <EditableTable\n          columns={columns}\n          data={tableData}\n          updateMyData={onUpdate}\n        />\n      ) : (\n        <Table columns={columns} data={tableData} />\n      )}\n      <div>\n        <button className=\"reportButton\" onClick={() => setEdit(!edit)}>\n          {edit ? \"Сохранить\" : \"Редактировать\"}\n        </button>\n        <button className=\"reportButton\" onClick={getReport}>\n          Экспорт в .xlsx\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default AllCertificates;\n","import axios from \"axios\";\nimport authHeader from \"./AuthHeader\";\n\nconst API_URL = \"http://localhost:8080/api/auth/\";\nconst ROLES_URL = \"http://localhost:8080/api/getauthority/\";\n\nasync function getRoles() {\n  return await axios\n    .get(ROLES_URL, { headers: authHeader() })\n    .then((response) => {\n      return response.data;\n    });\n}\n\nclass AuthService {\n  login(username, password) {\n    return axios\n      .post(API_URL + \"signin\", {\n        username,\n        password,\n      })\n      .then((response) => {\n        if (response.data.accessToken) {\n          localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\n          localStorage.setItem(\"roles\", []);\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"currentUser\");\n    localStorage.removeItem(\"roles\");\n  }\n\n  register(\n    username,\n    emailAddress,\n    password,\n    firstName,\n    lastName,\n    middleName,\n    supervisorUsername,\n    dateStartWorking,\n    phoneNumber,\n    occupation\n  ) {\n    return axios.post(API_URL + \"signup\", {\n      username: username,\n      emailAddress: emailAddress,\n      password: password,\n      firstName: firstName,\n      lastName: lastName,\n      middleName: middleName,\n      supervisorUsername: supervisorUsername,\n      dateStartWorking: dateStartWorking,\n      phoneNumber: phoneNumber,\n      occupation: occupation,\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"currentUser\"));\n  }\n\n  getCurrentUserRoles() {\n    if (\n      localStorage.getItem(\"roles\") === null ||\n      localStorage.getItem(\"roles\").length === 0\n    ) {\n      getRoles().then((data) => localStorage.setItem(\"roles\", data));\n    }\n    return localStorage.getItem(\"roles\");\n  }\n}\n\nexport default new AuthService();\n","import AuthService from \"./AuthService\";\nimport authHeader from \"./AuthHeader\";\nimport axios from \"axios\";\n\nfunction getMenu() {\n  let userMenu = { Профиль: menu[\"Профиль\"] };\n\n  let roles = AuthService.getCurrentUserRoles();\n\n  if (roles.includes(\"ADMIN\")) {\n    userMenu[\"Администратор\"] = menu[\"Администратор\"];\n  }\n\n  if (roles.includes(\"SUPERVISOR\")) {\n    userMenu[\"Сотрудники\"] = menu[\"Сотрудники\"];\n  }\n  return userMenu;\n}\n\nconst menu = {\n  Профиль: {\n    \"Мои сертификаты\": \"/cert/self\",\n    Уведомления: \"/notifications\",\n    Календарь: \"/calendar\",\n  },\n  Настройки: {\n    Общие: \"/settings\",\n    \"Информация о сайте\": \"/info\",\n    \"Отправить отчет об ошибке\": \"/report\",\n  },\n  Сотрудники: {\n    \"Список подчиненных\": \"/employees\",\n    \"Сертификаты подчиненных\": \"/employees/cert\",\n  },\n  Администратор: {\n    Должности: \"/occupation\",\n    Пользователи: \"/users\",\n    Сертификаты: \"/cert\",\n    \"Добавить пользователя\": \"/register\",\n    \"Добавить должность\": \"/occupation/add\",\n    \"Добавить сертификат\": \"/cert/add\",\n  },\n};\n\nexport default getMenu;\n","import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport AuthService from \"../../service/AuthService\";\nimport \"./Login.css\";\n\nfunction Login(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n  } = useForm();\n  const handleLogin = (data) => {\n    setMessage(\"\");\n    setLoading(true);\n\n    AuthService.login(data.username, data.password).then(\n      () => {\n        props.history.push(\"/profile\");\n        window.location.reload();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setLoading(false);\n        setMessage(resMessage);\n      }\n    );\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Вход в систему</h1>\n      <form onSubmit={handleSubmit(handleLogin)}>\n        <div className=\"inputField\">\n          <label htmlFor=\"username\">Логин</label>\n          <input\n            placeholder=\"username\"\n            {...register(\"username\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.username && (\n            <i className=\"error\">{errors.username.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"password\">Пароль</label>\n          <input\n            placeholder=\"***\"\n            type=\"password\"\n            {...register(\"password\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.password && (\n            <i className=\"error\">{errors.password.message}</i>\n          )}\n        </div>\n        <input className=\"submitButton\" type=\"submit\" value=\"Вход\" />\n      </form>\n      {message && <i className=\"error\">{message}</i>}\n    </div>\n  );\n}\n\nexport default Login;\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport AuthService from \"../../service/AuthService\";\nimport authHeader from \"../../service/AuthHeader\";\nimport DatePicker from \"react-datepicker\";\n\nimport \"./Register.css\";\n\nconst USER_URL = \"http://localhost:8080/api/usr/\";\nconst OCCUPATION_URL = \"http://localhost:8080/api/occupation/\";\n\nfunction Register(props) {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    setValue,\n  } = useForm();\n  const [users, setUsers] = useState({ allUsers: [] });\n  const [occupations, setOccupations] = useState({ occupations: [] });\n  const [message, setMessage] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n\n  const onSubmit = (data) => {\n    AuthService.register(\n      data.username,\n      data.emailAddress,\n      data.password,\n      data.firstName,\n      data.lastName,\n      data.middleName,\n      data.supervisorUsername,\n      data.dateStartWorking,\n      data.phoneNumber,\n      data.occupation\n    )\n      .then((response) => {\n        setMessage(\"Пользователь успешно зарегистрирован!\");\n      })\n      .catch((e) => {\n        setMessage(\"Ошибка:\" + e.message);\n      });\n  };\n\n  useEffect(() => {\n    const getUsers = async () => {\n      const result = await axios.get(USER_URL, { headers: authHeader() });\n      setUsers({ allUsers: result.data });\n    };\n    getUsers();\n\n    const getOccupations = async () => {\n      const result = await axios.get(OCCUPATION_URL, { headers: authHeader() });\n      setOccupations({ occupations: result.data });\n    };\n\n    getOccupations();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1>Регистрация нового пользователя</h1>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"inputField\">\n          <label htmlFor=\"username\">Логин</label>\n          <input\n            placeholder=\"username\"\n            {...register(\"username\", {\n              required: \"Это поле обязательное\",\n              minLength: {\n                value: 3,\n                message: \"Логин должен содержать от 3 до 30 символов\",\n              },\n              maxLength: {\n                value: 30,\n                message: \"Логин должен содержать от 3 до 30 символов\",\n              },\n            })}\n          />\n          {errors && errors.username && (\n            <i className=\"error\">{errors.username.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"password\">Пароль</label>\n          <input\n            placeholder=\"***\"\n            type=\"password\"\n            {...register(\"password\", {\n              required: \"Это поле обязательное\",\n              minLength: {\n                value: 6,\n                message: \"Пароль должен содержать от 6 до 30 символов\",\n              },\n              maxLength: {\n                value: 30,\n                message: \"Пароль должен содержать от 6 до 30 символов\",\n              },\n            })}\n          />\n          {errors && errors.password && (\n            <i className=\"error\">{errors.password.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"lastName\">Фамилия</label>\n          <input\n            placeholder=\"Иванов\"\n            {...register(\"lastName\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.lastName && (\n            <i className=\"error\">{errors.lastName.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"firstName\">Имя</label>\n          <input\n            placeholder=\"Иван\"\n            {...register(\"firstName\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.firstName && (\n            <i className=\"error\">{errors.firstName.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"middleName\">Отчество</label>\n          <input placeholder=\"Иванович\" {...register(\"middleName\")} />\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"emailAddress\">E-mail</label>\n          <input\n            placeholder=\"ivan@mail.ru\"\n            type=\"email\"\n            {...register(\"emailAddress\")}\n          />\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"phoneNumber\">Телефон</label>\n          <input placeholder=\"\" {...register(\"phoneNumber\")} />\n        </div>\n\n        <div className=\"inputField\">\n          <label>Дата начала работы</label>\n          <DatePicker\n            selected={startDate}\n            onChange={(date) => {\n              setValue(\"dateStartWorking\", date);\n              setStartDate(date);\n            }}\n          />\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"occupation\">Должность</label>\n          <select\n            {...register(\"occupation\", { required: \"Это поле обязательное!\" })}\n          >\n            {occupations.occupations &&\n              occupations.occupations.map((o) => {\n                return (\n                  <option key={o.id} value={o.name}>\n                    {o.name}\n                  </option>\n                );\n              })}\n          </select>\n          {errors && errors.occupation && (\n            <i className=\"error\">{errors.occupation.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"supervisorUsername\">Начальник</label>\n          <select {...register(\"supervisorUsername\")}>\n            {users.allUsers &&\n              users.allUsers.map((u) => {\n                return (\n                  <option key={u.id} value={u.username}>\n                    {u.lastName + \" \" + u.firstName + \": \" + u.username}\n                  </option>\n                );\n              })}\n          </select>\n        </div>\n        <input\n          className=\"submitButton\"\n          type=\"submit\"\n          value=\"Зарегистрировать\"\n        />\n      </form>\n      {message && message.length > 0 && (\n        <i className=\"error\" style={{ marginLeft: 40 }}>\n          {message}\n        </i>\n      )}\n    </div>\n  );\n}\n\nexport default Register;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport authHeader from \"../../service/AuthHeader\";\nimport AuthService from \"../../service/AuthService\";\nimport \"./UserProfile.css\";\nconst USER_API = \"http://localhost:8080/api/usr/\";\n\nfunction UserProfile() {\n  const [userCurr, setUserCurr] = useState();\n\n  useEffect(() => {\n    let currentUserId = AuthService.getCurrentUser().id;\n    const getUser = async () => {\n      const result = await axios.get(USER_API + currentUserId, {\n        headers: authHeader(),\n      });\n      setUserCurr(result.data);\n      console.log(result.data);\n    };\n\n    getUser();\n  }, []);\n\n  return (\n    <div>\n      {userCurr ? (\n        <div>\n          <div className=\"name\">\n            {userCurr.lastName +\n              \" \" +\n              userCurr.firstName +\n              \" \" +\n              userCurr.middleName}\n          </div>\n          <div className=\"company\">\n            Компания: {userCurr.comapny !== null ? userCurr.company.name : \"\"}\n          </div>\n          <div className=\"occupation\">\n            Должность:{\" \"}\n            {userCurr.occupation !== null ? userCurr.occupation.name : \"\"}\n          </div>\n          <div className=\"info\">Имя пользователя: {userCurr.username}</div>\n          <div className=\"info\">E-mail: {userCurr.emailAddress}</div>\n          <div className=\"info\">Телефон: {userCurr.phoneNumber}</div>\n          {/* <EditProfile user={this.state.user} /> */}\n        </div>\n      ) : (\n        <div>Страница недоступна</div>\n      )}\n    </div>\n  );\n}\n\nexport default UserProfile;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport makeReport from \"../util/Report\";\n\nconst OCCUPATION_URL = \"http://localhost:8080/api/occupation/\";\n\nfunction Occupations() {\n  const [occupations, setOccupations] = useState([]);\n  useEffect(() => {\n    const getOccupations = async () => {\n      const result = await axios.get(OCCUPATION_URL, {\n        headers: authHeader(),\n      });\n\n      setOccupations(result.data);\n    };\n\n    getOccupations();\n  }, []);\n  let columns = [\n    {\n      Header: \"Название\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Описание\",\n      accessor: \"descr\",\n    },\n    {\n      Header: \"Список необходимых сертификатов\",\n      accessor: \"requiredCertificates\",\n    },\n    {\n      Header: \"Удалить\",\n      accessor: \"deleteButton\",\n    },\n  ];\n\n  const deleteRow = (id) => {\n    console.log(id);\n    axios.delete(OCCUPATION_URL + id, { headers: authHeader() }).then(\n      (response) => console.log(\"delete success\"),\n      (error) => console.log(\"error\")\n    );\n    setOccupations(occupations.filter((o) => o.id !== id));\n  };\n  let tableData = occupations.map((o) => {\n    let certNames = o.requiredCertificates.map((c) => c.name);\n    return {\n      name: o.name,\n      descr: o.description,\n      requiredCertificates: certNames.join(\", \"),\n      deleteButton: (\n        <button\n          className=\"buttonDelete\"\n          key={o.name}\n          onClick={() => deleteRow(o.id)}\n        >\n          &times;\n        </button>\n      ),\n    };\n  });\n\n  const getReport = () => {\n    makeReport(\"occupations\", columns.slice(0, columns.length - 1), tableData);\n  };\n\n  return (\n    <div>\n      <h2>Зарегистрированные должности</h2>\n      <Table columns={columns} data={tableData} />\n      <button className=\"reportButton\" onClick={getReport}>\n        Экспорт в .xlsx\n      </button>\n    </div>\n  );\n}\nexport default Occupations;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport authHeader from \"../../service/AuthHeader\";\n\nimport \"./Certificate.css\";\n\n// certificate: id. name, description, daysValid\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert_own/self/\";\nfunction Certificate() {\n  const { id } = useParams();\n  const [cert, setCert] = useState(null);\n  const [image, setImage] = useState({ img: [] });\n\n  useEffect(() => {\n    const getCertificate = async () => {\n      const result = await axios.get(CERTIFICATE_URL + id, {\n        headers: authHeader(),\n      });\n      setCert(result.data);\n    };\n\n    const getImage = async () => {\n      const result = await axios.get(CERTIFICATE_URL + \"file/\" + id, {\n        headers: authHeader(),\n        responseType: \"blob\",\n      });\n      setImage({ img: URL.createObjectURL(result.data) });\n    };\n\n    getCertificate();\n    getImage();\n  }, []);\n\n  return (\n    <div>\n      {cert && (\n        <div className=\"cert-container\">\n          <h3>{cert.certificate.name}</h3>\n          <p>{cert.certificate.description}</p>\n          <i>Действителен {cert.certificate.daysValid} месяцев</i>\n          <p>Получен {cert.dateReceived}</p>\n          <div className=\"photo\">\n            <img src={image.img} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Certificate;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport DatePicker from \"react-datepicker\";\nimport { useForm } from \"react-hook-form\";\nimport authHeader from \"../../service/AuthHeader\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./AddCertificateOwning.css\";\n\nconst CERT_OWN_URL = \"http://localhost:8080/api/cert_own/self\";\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert/\";\n\nfunction AddCertificateOwning() {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    setValue,\n  } = useForm();\n  const [message, setMessage] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [file, setFile] = useState();\n\n  const onSubmit = (data) => {\n    if (data.certificateName === \"\") {\n      setMessage(\"Сертификат не выбран\");\n      return;\n    }\n    let formData = new FormData();\n    let jsonBodyData = {\n      certificateName: data.certificateName,\n      dateReceived: data.dateReceived,\n    };\n\n    if (file !== null) {\n      formData.append(\"file\", file);\n    }\n    formData.append(\n      \"jsonBodyData\",\n      new Blob([JSON.stringify(jsonBodyData)], {\n        type: \"application/json\",\n      })\n    );\n\n    axios.post(CERT_OWN_URL, formData, { headers: authHeader() }).then(\n      (response) => setMessage(\"Сертификат успешно добавлен\"),\n      (error) => setMessage(\"Ошибка сервера: \" + error)\n    );\n  };\n\n  const onChangeFile = (event) => {\n    let file = event.target.files[0];\n    if (file.size > 5 * 1024 * 1024) {\n      setMessage(\"Ошибка: файл не может быть больше 5Мб\");\n    } else if (\n      file.type !== \"image/jpg\" &&\n      file.type !== \"image/png\" &&\n      file.type !== \"image/jpeg\"\n    ) {\n      setMessage(\"Ошибка: загрузите фотографию в формате .png, .jpg или .jpeg\");\n    } else {\n      setFile(event.target.files[0]);\n    }\n  };\n\n  const [certificates, setCertificates] = useState({ certificates: [] });\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(CERTIFICATE_URL + \"occ\", {\n        headers: authHeader(),\n      });\n      setCertificates({\n        certificates: result.data,\n      });\n    };\n\n    getCertificates();\n    setValue(\"dateReceived\", startDate);\n  }, []);\n  return (\n    <div className=\"container\">\n      <h1>Добавить имеющийся сертификат</h1>\n      <form onSubmit={handleSubmit(onSubmit)} encType=\"multipart/form-data\">\n        <div className=\"inputField\">\n          <label>Сертификат</label>\n          <select {...register(\"certificateName\")}>\n            {certificates.certificates &&\n              certificates.certificates.map((c) => {\n                return (\n                  <option key={c.id} value={c.name}>\n                    {c.name}\n                  </option>\n                );\n              })}\n          </select>\n          {errors && errors.certificate && (\n            <i className=\"error\">{errors.certificate.message}</i>\n          )}\n        </div>\n        <div className=\"inputField\">\n          <label>Дата получения</label>\n          <DatePicker\n            selected={startDate}\n            onChange={(date) => {\n              setValue(\"dateReceived\", date);\n              setStartDate(date);\n            }}\n          />\n        </div>\n        <div className=\"inputFile\">\n          <label>Файл подтверждения</label>\n          <input type=\"file\" onChange={(e) => onChangeFile(e)} />\n        </div>\n\n        <input value=\"Добавить\" type=\"submit\" className=\"submitButton\" />\n      </form>\n      <i>{message}</i>\n    </div>\n  );\n}\n\nexport default AddCertificateOwning;\n","import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport authHeader from \"../../service/AuthHeader\";\nimport Select from \"react-select\";\nimport axios from \"axios\";\n\nimport \"../login/Register.css\";\n\nconst OCCUPATION_URL = \"http://localhost:8080/api/occupation/\";\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert/\";\n\nfunction AddOccupation() {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    setValue,\n  } = useForm();\n  const onSubmit = (data) => {\n    let dto = {\n      name: data.name,\n      description: data.description,\n      requiredCertificates: data.requiredCertificates,\n    };\n    axios.post(OCCUPATION_URL, dto, { headers: authHeader() }).then(\n      (response) => setMessage(\"Должность успешно добавлена\"),\n      (error) => setMessage(\"Ошибка сервера: \" + error)\n    );\n  };\n\n  const [message, setMessage] = useState(\"\");\n  const [certificates, setCertificates] = useState({ certificates: [] });\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(CERTIFICATE_URL, {\n        headers: authHeader(),\n      });\n      setCertificates({\n        certificates: result.data.map((d) => ({\n          value: d.name,\n          label: d.name,\n        })),\n      });\n    };\n\n    getCertificates();\n  }, []);\n\n  const onSelectChange = (e) => {\n    setValue(\n      \"requiredCertificates\",\n      e.map((e) => e.value)\n    );\n  };\n\n  const selectStyle = {\n    height: 30,\n    width: 800,\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Регистрация новой должности</h1>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"inputField\">\n          <label htmlFor=\"name\">Название</label>\n          <input\n            placeholder=\"Бухгалтер\"\n            {...register(\"name\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.name && (\n            <i className=\"error\">{errors.name.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputFieldBig\">\n          <label htmlFor=\"description\">Описание</label>\n          <textarea\n            cols=\"40\"\n            rows=\"5\"\n            placeholder=\"Обязанности: ... Подчиненные: ...\"\n            {...register(\"description\")}\n          />\n        </div>\n        <div className=\"inputField\" style={{ width: 800 }}>\n          <label htmlFor=\"requiredCertificates\" style={{ marginRight: 30 }}>\n            Добавить сертификаты\n          </label>\n          <Select\n            isMulti\n            options={certificates.certificates}\n            onChange={onSelectChange}\n            styles={{ width: 800, marginLeft: 10 }}\n          />\n        </div>\n        <input\n          type=\"submit\"\n          value=\"Добавить должность\"\n          className=\"submitButton\"\n        />\n      </form>\n      <i>{message}</i>\n    </div>\n  );\n}\n\nexport default AddOccupation;\n","import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport authHeader from \"../../service/AuthHeader\";\nimport axios from \"axios\";\n\nimport \"../login/Register.css\";\n\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert/\";\n\nfunction AddCertificate() {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n  } = useForm();\n\n  const onSubmit = (data) => {\n    let dto = {\n      name: data.name,\n      description: data.description,\n      daysValid: data.daysValid,\n      trainingDurationDays: data.trainingDurationDays,\n    };\n    axios.post(CERTIFICATE_URL, dto, { headers: authHeader() }).then(\n      (response) => setMessage(\"Сертификат успешно добавлен\"),\n      (error) => setMessage(\"Ошибка: \" + error)\n    );\n  };\n\n  const [message, setMessage] = useState(\"\");\n\n  return (\n    <div className=\"container\">\n      <h1>Регистрация нового сертификата</h1>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"inputField\">\n          <label htmlFor=\"name\">Название</label>\n          <input\n            placeholder=\"Охрана труда\"\n            {...register(\"name\", {\n              required: \"Это поле обязательное\",\n            })}\n          />\n          {errors && errors.name && (\n            <i className=\"error\">{errors.name.message}</i>\n          )}\n        </div>\n        <div className=\"inputFieldBig\">\n          <label htmlFor=\"description\">Описание</label>\n          <textarea\n            cols=\"40\"\n            rows=\"5\"\n            placeholder=\"Комментарии\"\n            {...register(\"description\")}\n          />\n        </div>\n        <div className=\"inputField\">\n          <label htmlFor=\"daysValid\">Действует</label>\n          <input\n            placeholder=\"18\"\n            type=\"number\"\n            {...register(\"daysValid\", {\n              valueAsNumber: true,\n              required: \"Это поле обязательное\",\n            })}\n          />\n          <label>месяцев</label>\n\n          {errors && errors.daysValid && (\n            <i className=\"error\">{errors.daysValid.message}</i>\n          )}\n        </div>\n\n        <div className=\"inputField\">\n          <label htmlFor=\"trainingDurationDays\">Обучение длится</label>\n          <input\n            placeholder=\"7\"\n            type=\"number\"\n            {...register(\"trainingDurationDays\", {\n              valueAsNumber: true,\n              required: \"Это поле обязательное\",\n            })}\n          />\n          <label>дней</label>\n\n          {errors && errors.trainingDurationDays && (\n            <i className=\"error\">{errors.trainingDurationDays.message}</i>\n          )}\n        </div>\n\n        <input\n          type=\"submit\"\n          value=\"Добавить сертификат\"\n          className=\"submitButton\"\n        />\n      </form>\n      {message && <i>{message}</i>}\n    </div>\n  );\n}\n\nexport default AddCertificate;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport authHeader from \"../../service/AuthHeader\";\nimport Table from \"../util/Table\";\nimport convertTimestampToDate from \"../util/DateTime\";\n\nconst CERTIFICATE_URL = \"http://localhost:8080/api/cert_own/self/\";\n\nfunction CertExpiring() {\n  const [expiring, setExpiring] = useState([]);\n\n  const convertTimestampToActualDate = (timestamp) => {\n    var date = new Date(timestamp);\n    return date;\n  };\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(CERTIFICATE_URL, {\n        headers: authHeader(),\n      });\n      const allcert = result.data;\n\n      setExpiring(\n        allcert.filter((certOwn) => {\n          let dateRec = convertTimestampToActualDate(certOwn.dateReceived);\n          // console.log(certOwn);\n          if (certOwn.certificate !== null) {\n            let expiring = new Date(\n              dateRec.setMonth(\n                dateRec.getMonth() + certOwn.certificate.daysValid\n              )\n            );\n            return expiring < Date.now();\n          } else return false;\n        })\n      );\n    };\n\n    getCertificates();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Название\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Описание\",\n      accessor: \"descr\",\n    },\n    {\n      Header: \"Дата выдачи\",\n      accessor: \"dateReceived\",\n    },\n    {\n      Header: \"Срок истекает\",\n      accessor: \"dateEnd\",\n    },\n  ];\n\n  let data = expiring.map((cert_own) => {\n    let end = new Date(cert_own.dateReceived);\n    if (cert_own.certificate !== null) {\n      end.setMonth(end.getMonth() + cert_own.certificate.daysValid);\n    }\n    return {\n      name: cert_own.certificate === null ? \"\" : cert_own.certificate.name,\n      descr:\n        cert_own.certificate === null ? \"\" : cert_own.certificate.description,\n      dateReceived: convertTimestampToDate(cert_own.dateReceived),\n      dateEnd: convertTimestampToDate(end),\n    };\n  });\n\n  return (\n    <div>\n      <h2>Уведомления об истекающем сроке сертификатов</h2>\n      <Table columns={columns} data={data} />\n    </div>\n  );\n}\n\nexport default CertExpiring;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport makeReport from \"../util/Report\";\n\nconst USERS_URL = \"http://localhost:8080/api/usr/\";\n\nfunction Users() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const getUsers = async () => {\n      const result = await axios.get(USERS_URL, {\n        headers: authHeader(),\n      });\n\n      setUsers(result.data);\n    };\n\n    getUsers();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Фамилия\",\n      accessor: \"lastName\",\n    },\n    {\n      Header: \"Имя\",\n      accessor: \"firstName\",\n    },\n    {\n      Header: \"Отчество\",\n      accessor: \"middleName\",\n    },\n    {\n      Header: \"Должность\",\n      accessor: \"occupationName\",\n    },\n    {\n      Header: \"Начальник\",\n      accessor: \"supervisorName\",\n    },\n    {\n      Header: \"Логин в системе\",\n      accessor: \"username\",\n    },\n    {\n      Header: \"E-mail\",\n      accessor: \"emailAddress\",\n    },\n    {\n      Header: \"Номер телефона\",\n      accessor: \"phoneNumber\",\n    },\n    {\n      Header: \"Дата начала работы\",\n      accessor: \"dateStartWorking\",\n    },\n    {\n      Header: \"Удалить\",\n      accessor: \"deleteButton\",\n    },\n  ];\n\n  const deleteRow = (id) => {\n    console.log(id);\n    axios.delete(USERS_URL + id, { headers: authHeader() }).then(\n      (response) => {\n        console.log(\"delete success\");\n        setUsers(users.filter((o) => o.id !== id));\n      },\n      (error) => console.log(\"error\")\n    );\n  };\n\n  let tableData = users.map((u) => {\n    return {\n      lastName: u.lastName,\n      firstName: u.firstName,\n      middleName: u.middleName,\n      occupationName: u.occupation !== null ? u.occupation.name : \"\",\n      supervisorName: u.supervisor !== null ? u.supervisor.fullName : \"\",\n      username: u.username,\n      emailAddress: u.emailAddress,\n      phoneNumber: u.phoneNumber,\n      dateStartWorking: u.dateStartWorking,\n      deleteButton: (\n        <button\n          className=\"buttonDelete\"\n          key={u.name}\n          onClick={() => deleteRow(u.id)}\n        >\n          &times;\n        </button>\n      ),\n    };\n  });\n\n  const getReport = () => {\n    makeReport(\"users\", columns.slice(0, columns.length - 1), tableData);\n  };\n\n  return (\n    <div>\n      <h2>Зарегистрированные пользователи</h2>\n      <Table columns={columns} data={tableData} />\n      <button className=\"reportButton\" onClick={getReport}>\n        Экспорт в .xlsx\n      </button>\n    </div>\n  );\n}\nexport default Users;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport AuthService from \"../../service/AuthService\";\nimport authHeader from \"../../service/AuthHeader\";\nimport convertTimestampToDate from \"../util/DateTime\";\nimport Table from \"../util/Table\";\n\nconst GROUP_URL = \"http://localhost:8080/api/groups/\";\n\nfunction Calendar() {\n  const [groups, setGroups] = useState([]);\n\n  useEffect(() => {\n    const getGroups = async () => {\n      let currentUserId = AuthService.getCurrentUser().id;\n      const result = await axios.get(GROUP_URL + currentUserId, {\n        headers: authHeader(),\n      });\n      setGroups(result.data);\n    };\n\n    getGroups();\n  }, []);\n\n  const columns = [\n    {\n      Header: \"Сертификат\",\n      accessor: \"certificateName\",\n    },\n    {\n      Header: \"Начало обучения\",\n      accessor: \"dateStart\",\n    },\n    {\n      Header: \"Длительность обучения\",\n      accessor: \"daysLong\",\n    },\n    {\n      Header: \"Номер группы\",\n      accessor: \"groupNumber\",\n    },\n  ];\n\n  const tableData = groups.map((g) => ({\n    certificateName: g.certificate !== null ? g.certificate.name : \"\",\n    dateStart: convertTimestampToDate(g.dateStart),\n    daysLong: g.daysLong,\n    groupNumber: g.id,\n  }));\n\n  return (\n    <div>\n      <h2>Предстоящие обучения, сроки и номера групп</h2>\n      <Table data={tableData} columns={columns} />\n    </div>\n  );\n}\n\nexport default Calendar;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport makeReport from \"../util/Report\";\n\nconst USERS_URL = \"http://localhost:8080/api/usr/\";\n\nfunction Employees() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const getUsers = async () => {\n      const result = await axios.get(USERS_URL + \"employees\", {\n        headers: authHeader(),\n      });\n\n      setUsers(result.data);\n    };\n\n    getUsers();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Фамилия\",\n      accessor: \"lastName\",\n    },\n    {\n      Header: \"Имя\",\n      accessor: \"firstName\",\n    },\n    {\n      Header: \"Отчество\",\n      accessor: \"middleName\",\n    },\n    {\n      Header: \"Должность\",\n      accessor: \"occupationName\",\n    },\n    {\n      Header: \"Начальник\",\n      accessor: \"supervisorName\",\n    },\n    {\n      Header: \"E-mail\",\n      accessor: \"emailAdderss\",\n    },\n    {\n      Header: \"Номер телефона\",\n      accessor: \"phoneNumber\",\n    },\n    {\n      Header: \"Дата начала работы\",\n      accessor: \"dateStartWorking\",\n    },\n  ];\n\n  let tableData = users.map((u) => {\n    return {\n      lastName: u.lastName,\n      firstName: u.firstName,\n      middleName: u.middleName,\n      occupationName: u.occupation !== null ? u.occupation.name : \"\",\n      supervisorName: u.supervisor !== null ? u.supervisor.fullName : \"\",\n      emailAddress: u.emailAddress,\n      phoneNumber: u.phoneNumber,\n      dateStartWorking: u.dateStartWorking,\n    };\n  });\n\n  const getReport = () => {\n    makeReport(\"users\", columns, tableData);\n  };\n\n  return (\n    <div>\n      <h2>Подчиненные</h2>\n      <Table columns={columns} data={tableData} />\n      <button className=\"reportButton\" onClick={getReport}>\n        Экспорт в .xlsx\n      </button>\n    </div>\n  );\n}\nexport default Employees;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"../util/Table\";\nimport authHeader from \"../../service/AuthHeader\";\nimport convertTimestampToDate from \"../util/DateTime\";\n\nimport \"../certowns/AllUserCertificates.css\";\n\nconst EMP_CERT_OWN_URL = \"http://localhost:8080/api/cert_own/employees/\";\n\nfunction EmployeesCertifiactes() {\n  const [certificates, setCertificates] = useState({ certificates: [] });\n\n  useEffect(() => {\n    const getCertificates = async () => {\n      const result = await axios.get(EMP_CERT_OWN_URL, {\n        headers: authHeader(),\n      });\n      setCertificates({\n        certificates: result.data,\n      });\n    };\n\n    getCertificates();\n  }, []);\n\n  let columns = [\n    {\n      Header: \"Название\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Описание\",\n      accessor: \"descr\",\n    },\n    {\n      Header: \"Дата выдачи\",\n      accessor: \"dateReceived\",\n    },\n    {\n      Header: \"Владелец\",\n      accessor: \"username\",\n    },\n    {\n      Header: \"Подробнее\",\n      accessor: \"moreButton\",\n    },\n  ];\n  let data = certificates.certificates\n    ? certificates.certificates.map((cert_own) => {\n        return {\n          name: cert_own.certificate === null ? \"\" : cert_own.certificate.name,\n          descr:\n            cert_own.certificate === null\n              ? \"\"\n              : cert_own.certificate.description,\n          dateReceived: convertTimestampToDate(cert_own.dateReceived),\n          username: cert_own.owner.username,\n          moreButton: <a href={\"cert/\" + cert_own.id}>Подробнее</a>,\n        };\n      })\n    : [];\n\n  return (\n    <div>\n      <h1>Сертификаты подчиненных</h1>\n      <Table columns={columns} data={data} />\n    </div>\n  );\n}\n\nexport default EmployeesCertifiactes;\n","import React from \"react\";\nimport Toolbar from \"./components/toolbar/Toolbar\";\nimport SideDrawer from \"./components/sidedrawer/SideDrawer\";\nimport Backdrop from \"./components/backdrop/Backdrop\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport AllUserCertificates from \"./components/certowns/AllUserCertificates\";\nimport AllCertificates from \"./components/certificates/AllCertificates\";\nimport getMenu from \"./service/MenuService\";\nimport Login from \"./components/login/Login\";\nimport Register from \"./components/login/Register\";\nimport AuthService from \"./service/AuthService\";\nimport UserProfile from \"./components/users/UserProfile\";\nimport Occupations from \"./components/occupation/Occupations\";\nimport Certificate from \"./components/certowns/Certificate\";\nimport AddCertificateOwning from \"./components/certowns/AddCertificateOwning\";\nimport \"./App.css\";\nimport AddOccupation from \"./components/occupation/AddOccupation\";\nimport AddCertificate from \"./components/certificates/AddCertificate\";\nimport CertExpiring from \"./components/notifications/CertExpiring\";\nimport Users from \"./components/users/Users\";\nimport Calendar from \"./components/notifications/Calendar\";\nimport Employees from \"./components/users/Employees\";\nimport EmployeesCertifiactes from \"./components/users/EmployeesCertificates\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      currentUser: undefined,\n      sideDrawerOpen: false,\n      company: \"\",\n      error: false,\n    };\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      currentUser: null,\n    });\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.log(error, errorInfo);\n    this.setState({ error: true });\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        company: user.company,\n      });\n    }\n  }\n\n  drawerClickHandler = () => {\n    this.setState((prevState) => {\n      return { sideDrawerOpen: !prevState.sideDrawerOpen };\n    });\n  };\n\n  backdropClickHandler = () => {\n    this.setState({ sideDrawerOpen: false });\n  };\n\n  render() {\n    let backdrop;\n\n    if (this.state.sideDrawerOpen) {\n      backdrop = <Backdrop click={this.backdropClickHandler} />;\n    }\n\n    return (\n      <Router>\n        <div className=\"App\" style={{ height: \"100%\" }}>\n          <main style={{ marginTop: \"64px\" }}>\n            {this.state.currentUser && !this.state.error ? (\n              <div className=\"navbar-nav ml-auto\">\n                <Toolbar\n                  drawerClickHandler={this.drawerClickHandler}\n                  logout={this.logOut}\n                  company={this.state.company}\n                />\n                <SideDrawer show={this.state.sideDrawerOpen} menu={getMenu()} />\n                {backdrop}\n              </div>\n            ) : (\n              <div className=\"nav-link-wrapper\">\n                <Link\n                  to={\"/login\"}\n                  className=\"nav-link\"\n                  onClick={() => {\n                    this.setState({ error: false });\n                  }}\n                >\n                  Вход в систему\n                </Link>\n              </div>\n            )}\n            <Switch>\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/register\" component={Register} />\n              <Route path=\"/users\" component={Users} />\n              <Route path=\"/cert/add\" component={AddCertificate} />\n              <Route path=\"/cert/self/add\" component={AddCertificateOwning} />\n              <Route path=\"/cert/self/:id\" component={Certificate} />\n              <Route path=\"/cert/self\" component={AllUserCertificates} />\n              <Route path=\"/cert\" component={AllCertificates} />\n              <Route path=\"/profile\" component={UserProfile} />\n              <Route path=\"/occupation/add\" component={AddOccupation} />\n              <Route path=\"/occupation\" component={Occupations} />\n              <Route path=\"/notifications\" component={CertExpiring} />\n              <Route path=\"/calendar\" component={Calendar} />\n              <Route path=\"/employees/cert/:id\" component={Certificate} />\n              <Route path=\"/employees/cert\" component={EmployeesCertifiactes} />\n              <Route path=\"/employees\" component={Employees} />\n              <Route path=\"/\" />\n            </Switch>\n          </main>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport App from \"./App\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}