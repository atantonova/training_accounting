(this["webpackJsonptraining-frontend"]=this["webpackJsonptraining-frontend"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},127:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(19),s=a(20),i=a(35),o=a(41),l=a(40),u=(a(102),a(103),a(1)),d=function(e){return Object(u.jsxs)("button",{className:"toggle-button",onClick:e.click,children:[Object(u.jsx)("div",{className:"toggle-button__line"}),Object(u.jsx)("div",{className:"toggle-button__line"}),Object(u.jsx)("div",{className:"toggle-button__line"})]})},j=function(e){return Object(u.jsx)("header",{className:"toolbar",children:Object(u.jsxs)("nav",{className:"toolbar__navigation",children:[Object(u.jsx)("div",{children:Object(u.jsx)(d,{click:e.drawerClickHandler})}),Object(u.jsx)("div",{className:"toolbar__logo",children:Object(u.jsx)("h3",{children:e.company})}),Object(u.jsx)("div",{className:"spacer"}),Object(u.jsx)("div",{className:"toolbar__navigation-items",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/",onClick:e.logout,children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})]})})]})})},b=(a(105),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t="side-drawer";this.props.show&&(t="side-drawer open");var a=Object.keys(this.props.menu);return Object(u.jsx)("nav",{className:t,children:a.map((function(t){return Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:"headerMenuItem",children:t}),Object.keys(e.props.menu[t]).map((function(a){return Object(u.jsx)("li",{className:"menuItem",children:Object(u.jsx)("a",{href:e.props.menu[t][a],children:a})},a)}))]},t)}))})}}]),a}(c.a.Component)),m=(a(106),function(e){return Object(u.jsx)("div",{className:"backdrop",onClick:e.click})}),p=a(39),h=a(13),O=a(4),f=a.n(O),x=a(10),v=a(6),g=a(8),N=a.n(g),y=a(7),w=a(36);a(69);function S(e){var t=e.columns,a=e.data,r=Object(w.useTable)({columns:t,data:a}),c=r.getTableProps,n=r.getTableBodyProps,s=r.headerGroups,i=r.rows,o=r.prepareRow;return Object(u.jsxs)("table",Object(y.a)(Object(y.a)({},c()),{},{className:"table",children:[Object(u.jsx)("thead",{className:"tableHeader",children:s.map((function(e){return Object(u.jsx)("tr",Object(y.a)(Object(y.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(y.a)(Object(y.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(y.a)(Object(y.a)({},n()),{},{className:"tableBody",children:i.map((function(e){return o(e),Object(u.jsx)("tr",Object(y.a)(Object(y.a)({},e.getRowProps()),{},{className:"tableRow",children:e.cells.map((function(e){return Object(u.jsx)("td",Object(y.a)(Object(y.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}function k(){var e=JSON.parse(localStorage.getItem("currentUser"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var H=function(e){return new Date(e).toLocaleDateString()},C=(a(70),"http://localhost:8080/api/cert_own/self/");var D=function(){var e=Object(r.useState)({certificates:[]}),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(C,{headers:k()});case 2:t=e.sent,c({certificates:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=a.certificates?a.certificates.map((function(e){return{name:null===e.certificate?"":e.certificate.name,descr:null===e.certificate?"":e.certificate.description,dateReceived:H(e.dateReceived),username:e.owner.username,moreButton:Object(u.jsx)("a",{href:"self/"+e.id,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),deleteButton:Object(u.jsx)("button",{className:"buttonDelete",onClick:function(){return s(e.id)},children:"\xd7"},e.name)}})):[],s=function(e){N.a.delete(C+e,{headers:k()}).then((function(t){console.log("delete success"),c({certificates:a.certificates.filter((function(t){return t.id!==e}))})}),(function(e){return console.log("error")}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"\u041c\u043e\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}),Object(u.jsx)(S,{columns:[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",accessor:"descr"},{Header:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",accessor:"dateReceived"},{Header:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",accessor:"username"},{Header:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",accessor:"moreButton"},{Header:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",accessor:"deleteButton"}],data:n}),Object(u.jsx)("a",{className:"addButton",href:"/cert/self/add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442"})]})},F={Cell:function(e){var t=e.value,a=e.row.index,n=e.column.id,s=e.updateMyData,i=Object(r.useState)(t),o=Object(v.a)(i,2),l=o[0],d=o[1];return c.a.useEffect((function(){d(t)}),[t]),Object(u.jsx)("input",{className:"inputEdit",value:null!==l?l:"",onChange:function(e){d(e.target.value)},onBlur:function(){s(a,n,l)}})}},B=function(e){var t=e.value;e.row.index,e.column.id;return Object(u.jsx)(c.a.Fragment,{children:t})};function R(e){var t=e.columns,a=e.data,r=e.updateMyData,c=Object(w.useTable)({columns:t,data:a,defaultColumn:F,updateMyData:r}),n=c.getTableProps,s=c.getTableBodyProps,i=c.headerGroups,o=c.rows,l=c.prepareRow;return Object(u.jsxs)("table",Object(y.a)(Object(y.a)({},n()),{},{className:"table",children:[Object(u.jsx)("thead",{className:"tableHeader",children:i.map((function(e){return Object(u.jsx)("tr",Object(y.a)(Object(y.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(y.a)(Object(y.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(y.a)(Object(y.a)({},s()),{},{className:"tableBody",children:o.map((function(e){return l(e),Object(u.jsx)("tr",Object(y.a)(Object(y.a)({},e.getRowProps()),{},{className:"tableRow",children:e.cells.map((function(t,a){return Object(u.jsx)("td",Object(y.a)(Object(y.a)({},t.getCellProps()),{},{children:a!==e.allCells.length-1?t.render("Cell"):t.render(B)}))}))}))}))}))]}))}var U=a(97),E=a.n(U),q=a(98),A=a.n(q);var _=function(e,t,a){var r=new E.a.Workbook,c=r.addWorksheet(e);c.columns=t.map((function(e){return{header:e.Header,key:e.accessor}}));for(var n=0;n<a.length;++n){for(var s={},i=a[n],o=0;o<t.length;++o){var l=t[o].accessor;s[l]=i[l]}c.addRow(s)}var u=e+Date.now().toString()+".xlsx";r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});A.a.saveAs(t,u)}))},V="http://localhost:8080/api/cert/";var I=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),s=Object(v.a)(n,2),i=s[0],o=s[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(V,{headers:k()});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",accessor:"description"},{Header:"\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f (\u043c\u0435\u0441.)",accessor:"daysValid"},{Header:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f (\u0434\u043d\u0435\u0439)",accessor:"trainingDurationDays"},{Header:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",accessor:"deleteButton"}],d=a.map((function(e){return{name:e.name,description:e.description,daysValid:e.daysValid,trainingDurationDays:e.trainingDurationDays,deleteButton:Object(u.jsx)("button",{className:"buttonDelete",onClick:function(){return t=e.id,void N.a.delete(V+t,{headers:k()}).then((function(e){c(a.filter((function(e){return e.id!==t})))}),(function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: "+e)}));var t},children:"\xd7"},e.name)}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}),i?Object(u.jsx)(R,{columns:l,data:d,updateMyData:function(e,t,r){var c=a.find((function(t){return t.name===d[e].name}));c[t]=r,N.a.put(V+c.id,c,{headers:k()})}}):Object(u.jsx)(S,{columns:l,data:d}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"reportButton",onClick:function(){return o(!i)},children:i?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("button",{className:"reportButton",onClick:function(){_("certificates",l.slice(0,l.length-1),d)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 .xlsx"})]})]})},M="http://localhost:8080/api/auth/",P="http://localhost:8080/api/getauthority/";function T(){return(T=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(P,{headers:k()}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=new(function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"login",value:function(e,t){return N.a.post(M+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&(localStorage.setItem("currentUser",JSON.stringify(e.data)),localStorage.setItem("roles",[])),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("currentUser"),localStorage.removeItem("roles")}},{key:"register",value:function(e,t,a,r,c,n,s,i,o,l){return N.a.post(M+"signup",{username:e,emailAddress:t,password:a,firstName:r,lastName:c,middleName:n,supervisorUsername:s,dateStartWorking:i,phoneNumber:o,occupation:l})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("currentUser"))}},{key:"getCurrentUserRoles",value:function(){return null!==localStorage.getItem("roles")&&0!==localStorage.getItem("roles").length||function(){return T.apply(this,arguments)}().then((function(e){return localStorage.setItem("roles",e)})),localStorage.getItem("roles")}}]),e}());var W={"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":{"\u041c\u043e\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b":"/cert/self","\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f":"/notifications","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c":"/calendar"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438":{"\u041e\u0431\u0449\u0438\u0435":"/settings","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0430\u0439\u0442\u0435":"/info","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0447\u0435\u0442 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435":"/report"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438":{"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445":"/employees","\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445":"/employees/cert"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":{"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438":"/occupation","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438":"/users","\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b":"/cert","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":"/register","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c":"/occupation/add","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442":"/cert/add"}},J=function(){var e={"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":W["\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]},t=L.getCurrentUserRoles();return t.includes("ADMIN")&&(e["\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"]=W["\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"]),t.includes("SUPERVISOR")&&(e["\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"]=W["\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"]),e},G=a(18);a(127);var z=function(e){var t=Object(r.useState)(""),a=Object(v.a)(t,2),c=(a[0],a[1],Object(r.useState)("")),n=Object(v.a)(c,2),s=(n[0],n[1],Object(r.useState)(!1)),i=Object(v.a)(s,2),o=(i[0],i[1]),l=Object(r.useState)(""),d=Object(v.a)(l,2),j=d[0],b=d[1],m=Object(G.a)(),p=m.register,h=m.formState.errors,O=m.handleSubmit;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"}),Object(u.jsxs)("form",{onSubmit:O((function(t){b(""),o(!0),L.login(t.username,t.password).then((function(){e.history.push("/profile"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(!1),b(t)}))})),children:[Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"username",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(u.jsx)("input",Object(y.a)({placeholder:"username"},p("username",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),h&&h.username&&Object(u.jsx)("i",{className:"error",children:h.username.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",Object(y.a)({placeholder:"***",type:"password"},p("password",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),h&&h.password&&Object(u.jsx)("i",{className:"error",children:h.password.message})]}),Object(u.jsx)("input",{className:"submitButton",type:"submit",value:"\u0412\u0445\u043e\u0434"})]}),j&&Object(u.jsx)("i",{className:"error",children:j})]})},K=a(37),Q=a.n(K);a(44);var X=function(e){var t=Object(G.a)(),a=t.register,c=t.formState.errors,n=t.handleSubmit,s=t.setValue,i=Object(r.useState)({allUsers:[]}),o=Object(v.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)({occupations:[]}),b=Object(v.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(""),O=Object(v.a)(h,2),g=O[0],w=O[1],S=Object(r.useState)(new Date),H=Object(v.a)(S,2),C=H[0],D=H[1];return Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/usr/",{headers:k()});case 2:t=e.sent,d({allUsers:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/occupation/",{headers:k()});case 2:t=e.sent,p({occupations:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(u.jsxs)("form",{onSubmit:n((function(e){L.register(e.username,e.emailAddress,e.password,e.firstName,e.lastName,e.middleName,e.supervisorUsername,e.dateStartWorking,e.phoneNumber,e.occupation).then((function(e){w("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!")})).catch((function(e){w("\u041e\u0448\u0438\u0431\u043a\u0430:"+e.message)}))})),children:[Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"username",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(u.jsx)("input",Object(y.a)({placeholder:"username"},a("username",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435",minLength:{value:3,message:"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 3 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},maxLength:{value:30,message:"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 3 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),c&&c.username&&Object(u.jsx)("i",{className:"error",children:c.username.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",Object(y.a)({placeholder:"***",type:"password"},a("password",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435",minLength:{value:6,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},maxLength:{value:30,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),c&&c.password&&Object(u.jsx)("i",{className:"error",children:c.password.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"lastName",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(u.jsx)("input",Object(y.a)({placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432"},a("lastName",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),c&&c.lastName&&Object(u.jsx)("i",{className:"error",children:c.lastName.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"firstName",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",Object(y.a)({placeholder:"\u0418\u0432\u0430\u043d"},a("firstName",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),c&&c.firstName&&Object(u.jsx)("i",{className:"error",children:c.firstName.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"middleName",children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(u.jsx)("input",Object(y.a)({placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447"},a("middleName")))]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"emailAddress",children:"E-mail"}),Object(u.jsx)("input",Object(y.a)({placeholder:"ivan@mail.ru",type:"email"},a("emailAddress")))]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"phoneNumber",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(u.jsx)("input",Object(y.a)({placeholder:""},a("phoneNumber")))]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(u.jsx)(Q.a,{selected:C,onChange:function(e){s("dateStartWorking",e),D(e)}})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"occupation",children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(u.jsx)("select",Object(y.a)(Object(y.a)({},a("occupation",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435!"})),{},{children:m.occupations&&m.occupations.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.id)}))})),c&&c.occupation&&Object(u.jsx)("i",{className:"error",children:c.occupation.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"supervisorUsername",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a"}),Object(u.jsx)("select",Object(y.a)(Object(y.a)({},a("supervisorUsername")),{},{children:l.allUsers&&l.allUsers.map((function(e){return Object(u.jsx)("option",{value:e.username,children:e.lastName+" "+e.firstName+": "+e.username},e.id)}))}))]}),Object(u.jsx)("input",{className:"submitButton",type:"submit",value:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),g&&g.length>0&&Object(u.jsx)("i",{className:"error",style:{marginLeft:40},children:g})]})};a(216);var Y=function(){var e=Object(r.useState)(),t=Object(v.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){var e=L.getCurrentUser().id;(function(){var t=Object(x.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("http://localhost:8080/api/usr/"+e,{headers:k()});case 2:a=t.sent,c(a.data),console.log(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(u.jsx)("div",{children:a?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"name",children:a.lastName+" "+a.firstName+" "+a.middleName}),Object(u.jsxs)("div",{className:"company",children:["\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f: ",null!==a.comapny?a.company.name:""]}),Object(u.jsxs)("div",{className:"occupation",children:["\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c:"," ",null!==a.occupation?a.occupation.name:""]}),Object(u.jsxs)("div",{className:"info",children:["\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",a.username]}),Object(u.jsxs)("div",{className:"info",children:["E-mail: ",a.emailAddress]}),Object(u.jsxs)("div",{className:"info",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",a.phoneNumber]})]}):Object(u.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"})})},Z="http://localhost:8080/api/occupation/";var $=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(Z,{headers:k()});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",accessor:"descr"},{Header:"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432",accessor:"requiredCertificates"},{Header:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",accessor:"deleteButton"}],s=a.map((function(e){var t=e.requiredCertificates.map((function(e){return e.name}));return{name:e.name,descr:e.description,requiredCertificates:t.join(", "),deleteButton:Object(u.jsx)("button",{className:"buttonDelete",onClick:function(){return t=e.id,console.log(t),N.a.delete(Z+t,{headers:k()}).then((function(e){return console.log("delete success")}),(function(e){return console.log("error")})),void c(a.filter((function(e){return e.id!==t})));var t},children:"\xd7"},e.name)}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"}),Object(u.jsx)(S,{columns:n,data:s}),Object(u.jsx)("button",{className:"reportButton",onClick:function(){_("occupations",n.slice(0,n.length-1),s)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 .xlsx"})]})},ee=(a(217),"http://localhost:8080/api/cert_own/self/");var te=function(){var e=Object(h.f)().id,t=Object(r.useState)(null),a=Object(v.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)({img:[]}),i=Object(v.a)(s,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(x.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get(ee+e,{headers:k()});case 2:a=t.sent,n(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(x.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get(ee+"file/"+e,{headers:k(),responseType:"blob"});case 2:a=t.sent,l({img:URL.createObjectURL(a.data)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),a()}),[]),Object(u.jsx)("div",{children:c&&Object(u.jsxs)("div",{className:"cert-container",children:[Object(u.jsx)("h3",{children:c.certificate.name}),Object(u.jsx)("p",{children:c.certificate.description}),Object(u.jsxs)("i",{children:["\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d ",c.certificate.daysValid," \u043c\u0435\u0441\u044f\u0446\u0435\u0432"]}),Object(u.jsxs)("p",{children:["\u041f\u043e\u043b\u0443\u0447\u0435\u043d ",c.dateReceived]}),Object(u.jsx)("div",{className:"photo",children:Object(u.jsx)("img",{src:o.img})})]})})};a(220),a(221);var ae=function(){var e=Object(G.a)(),t=e.register,a=e.formState.errors,c=e.handleSubmit,n=e.setValue,s=Object(r.useState)(""),i=Object(v.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(new Date),j=Object(v.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)(),h=Object(v.a)(p,2),O=h[0],g=h[1],w=Object(r.useState)({certificates:[]}),S=Object(v.a)(w,2),H=S[0],C=S[1];return Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/cert/occ",{headers:k()});case 2:t=e.sent,C({certificates:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),n("dateReceived",b)}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043c\u0435\u044e\u0449\u0438\u0439\u0441\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442"}),Object(u.jsxs)("form",{onSubmit:c((function(e){if(""!==e.certificateName){var t=new FormData,a={certificateName:e.certificateName,dateReceived:e.dateReceived};null!==O&&t.append("file",O),t.append("jsonBodyData",new Blob([JSON.stringify(a)],{type:"application/json"})),N.a.post("http://localhost:8080/api/cert_own/self",t,{headers:k()}).then((function(e){return l("\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")}),(function(e){return l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: "+e)}))}else l("\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d")})),encType:"multipart/form-data",children:[Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{children:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442"}),Object(u.jsx)("select",Object(y.a)(Object(y.a)({},t("certificateName")),{},{children:H.certificates&&H.certificates.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.id)}))})),a&&a.certificate&&Object(u.jsx)("i",{className:"error",children:a.certificate.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f"}),Object(u.jsx)(Q.a,{selected:b,onChange:function(e){n("dateReceived",e),m(e)}})]}),Object(u.jsxs)("div",{className:"inputFile",children:[Object(u.jsx)("label",{children:"\u0424\u0430\u0439\u043b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(u.jsx)("input",{type:"file",onChange:function(e){return function(e){var t=e.target.files[0];t.size>5242880?l("\u041e\u0448\u0438\u0431\u043a\u0430: \u0444\u0430\u0439\u043b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 5\u041c\u0431"):"image/jpg"!==t.type&&"image/png"!==t.type&&"image/jpeg"!==t.type?l("\u041e\u0448\u0438\u0431\u043a\u0430: \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 .png, .jpg \u0438\u043b\u0438 .jpeg"):g(e.target.files[0])}(e)}})]}),Object(u.jsx)("input",{value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",type:"submit",className:"submitButton"})]}),Object(u.jsx)("i",{children:o})]})},re=(a(222),a(100));var ce=function(){var e=Object(G.a)(),t=e.register,a=e.formState.errors,c=e.handleSubmit,n=e.setValue,s=Object(r.useState)(""),i=Object(v.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)({certificates:[]}),j=Object(v.a)(d,2),b=j[0],m=j[1];return Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/cert/",{headers:k()});case 2:t=e.sent,m({certificates:t.data.map((function(e){return{value:e.name,label:e.name}}))});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"}),Object(u.jsxs)("form",{onSubmit:c((function(e){var t={name:e.name,description:e.description,requiredCertificates:e.requiredCertificates};N.a.post("http://localhost:8080/api/occupation/",t,{headers:k()}).then((function(e){return l("\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")}),(function(e){return l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: "+e)}))})),children:[Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)("input",Object(y.a)({placeholder:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"},t("name",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),a&&a.name&&Object(u.jsx)("i",{className:"error",children:a.name.message})]}),Object(u.jsxs)("div",{className:"inputFieldBig",children:[Object(u.jsx)("label",{htmlFor:"description",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(u.jsx)("textarea",Object(y.a)({cols:"40",rows:"5",placeholder:"\u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438: ... \u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0435: ..."},t("description")))]}),Object(u.jsxs)("div",{className:"inputField",style:{width:800},children:[Object(u.jsx)("label",{htmlFor:"requiredCertificates",style:{marginRight:30},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}),Object(u.jsx)(re.a,{isMulti:!0,options:b.certificates,onChange:function(e){n("requiredCertificates",e.map((function(e){return e.value})))},styles:{width:800,marginLeft:10}})]}),Object(u.jsx)("input",{type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",className:"submitButton"})]}),Object(u.jsx)("i",{children:o})]})};var ne=function(){var e=Object(G.a)(),t=e.register,a=e.formState.errors,c=e.handleSubmit,n=Object(r.useState)(""),s=Object(v.a)(n,2),i=s[0],o=s[1];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(u.jsxs)("form",{onSubmit:c((function(e){var t={name:e.name,description:e.description,daysValid:e.daysValid,trainingDurationDays:e.trainingDurationDays};N.a.post("http://localhost:8080/api/cert/",t,{headers:k()}).then((function(e){return o("\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")}),(function(e){return o("\u041e\u0448\u0438\u0431\u043a\u0430: "+e)}))})),children:[Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)("input",Object(y.a)({placeholder:"\u041e\u0445\u0440\u0430\u043d\u0430 \u0442\u0440\u0443\u0434\u0430"},t("name",{required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),a&&a.name&&Object(u.jsx)("i",{className:"error",children:a.name.message})]}),Object(u.jsxs)("div",{className:"inputFieldBig",children:[Object(u.jsx)("label",{htmlFor:"description",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(u.jsx)("textarea",Object(y.a)({cols:"40",rows:"5",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},t("description")))]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"daysValid",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(u.jsx)("input",Object(y.a)({placeholder:"18",type:"number"},t("daysValid",{valueAsNumber:!0,required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),Object(u.jsx)("label",{children:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432"}),a&&a.daysValid&&Object(u.jsx)("i",{className:"error",children:a.daysValid.message})]}),Object(u.jsxs)("div",{className:"inputField",children:[Object(u.jsx)("label",{htmlFor:"trainingDurationDays",children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u0438\u0442\u0441\u044f"}),Object(u.jsx)("input",Object(y.a)({placeholder:"7",type:"number"},t("trainingDurationDays",{valueAsNumber:!0,required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"}))),Object(u.jsx)("label",{children:"\u0434\u043d\u0435\u0439"}),a&&a.trainingDurationDays&&Object(u.jsx)("i",{className:"error",children:a.trainingDurationDays.message})]}),Object(u.jsx)("input",{type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442",className:"submitButton"})]}),i&&Object(u.jsx)("i",{children:i})]})};var se=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/cert_own/self/",{headers:k()});case 2:t=e.sent,a=t.data,c(a.filter((function(e){var t,a=(t=e.dateReceived,new Date(t));return null!==e.certificate&&new Date(a.setMonth(a.getMonth()+e.certificate.daysValid))<Date.now()})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=a.map((function(e){var t=new Date(e.dateReceived);return null!==e.certificate&&t.setMonth(t.getMonth()+e.certificate.daysValid),{name:null===e.certificate?"":e.certificate.name,descr:null===e.certificate?"":e.certificate.description,dateReceived:H(e.dateReceived),dateEnd:H(t)}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0431 \u0438\u0441\u0442\u0435\u043a\u0430\u044e\u0449\u0435\u043c \u0441\u0440\u043e\u043a\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432"}),Object(u.jsx)(S,{columns:[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",accessor:"descr"},{Header:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",accessor:"dateReceived"},{Header:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442",accessor:"dateEnd"}],data:n})]})},ie="http://localhost:8080/api/usr/";var oe=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(ie,{headers:k()});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=[{Header:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",accessor:"lastName"},{Header:"\u0418\u043c\u044f",accessor:"firstName"},{Header:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",accessor:"middleName"},{Header:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",accessor:"occupationName"},{Header:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a",accessor:"supervisorName"},{Header:"\u041b\u043e\u0433\u0438\u043d \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435",accessor:"username"},{Header:"E-mail",accessor:"emailAddress"},{Header:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",accessor:"phoneNumber"},{Header:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",accessor:"dateStartWorking"},{Header:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",accessor:"deleteButton"}],s=a.map((function(e){return{lastName:e.lastName,firstName:e.firstName,middleName:e.middleName,occupationName:null!==e.occupation?e.occupation.name:"",supervisorName:null!==e.supervisor?e.supervisor.fullName:"",username:e.username,emailAddress:e.emailAddress,phoneNumber:e.phoneNumber,dateStartWorking:e.dateStartWorking,deleteButton:Object(u.jsx)("button",{className:"buttonDelete",onClick:function(){return t=e.id,console.log(t),void N.a.delete(ie+t,{headers:k()}).then((function(e){console.log("delete success"),c(a.filter((function(e){return e.id!==t})))}),(function(e){return console.log("error")}));var t},children:"\xd7"},e.name)}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(u.jsx)(S,{columns:n,data:s}),Object(u.jsx)("button",{className:"reportButton",onClick:function(){_("users",n.slice(0,n.length-1),s)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 .xlsx"})]})};var le=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L.getCurrentUser().id,e.next=3,N.a.get("http://localhost:8080/api/groups/"+t,{headers:k()});case 3:a=e.sent,c(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=a.map((function(e){return{certificateName:null!==e.certificate?e.certificate.name:"",dateStart:H(e.dateStart),daysLong:e.daysLong,groupNumber:e.id}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f, \u0441\u0440\u043e\u043a\u0438 \u0438 \u043d\u043e\u043c\u0435\u0440\u0430 \u0433\u0440\u0443\u043f\u043f"}),Object(u.jsx)(S,{data:n,columns:[{Header:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442",accessor:"certificateName"},{Header:"\u041d\u0430\u0447\u0430\u043b\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f",accessor:"dateStart"},{Header:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f",accessor:"daysLong"},{Header:"\u041d\u043e\u043c\u0435\u0440 \u0433\u0440\u0443\u043f\u043f\u044b",accessor:"groupNumber"}]})]})};var ue=function(){var e=Object(r.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/usr/employees",{headers:k()});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=[{Header:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",accessor:"lastName"},{Header:"\u0418\u043c\u044f",accessor:"firstName"},{Header:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",accessor:"middleName"},{Header:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",accessor:"occupationName"},{Header:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a",accessor:"supervisorName"},{Header:"E-mail",accessor:"emailAdderss"},{Header:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",accessor:"phoneNumber"},{Header:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",accessor:"dateStartWorking"}],s=a.map((function(e){return{lastName:e.lastName,firstName:e.firstName,middleName:e.middleName,occupationName:null!==e.occupation?e.occupation.name:"",supervisorName:null!==e.supervisor?e.supervisor.fullName:"",emailAddress:e.emailAddress,phoneNumber:e.phoneNumber,dateStartWorking:e.dateStartWorking}}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u041f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0435"}),Object(u.jsx)(S,{columns:n,data:s}),Object(u.jsx)("button",{className:"reportButton",onClick:function(){_("users",n,s)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 .xlsx"})]})};var de=function(){var e=Object(r.useState)({certificates:[]}),t=Object(v.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){(function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:8080/api/cert_own/employees/",{headers:k()});case 2:t=e.sent,c({certificates:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var n=a.certificates?a.certificates.map((function(e){return{name:null===e.certificate?"":e.certificate.name,descr:null===e.certificate?"":e.certificate.description,dateReceived:H(e.dateReceived),username:e.owner.username,moreButton:Object(u.jsx)("a",{href:"cert/"+e.id,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}})):[];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445"}),Object(u.jsx)(S,{columns:[{Header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",accessor:"name"},{Header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",accessor:"descr"},{Header:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",accessor:"dateReceived"},{Header:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",accessor:"username"},{Header:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",accessor:"moreButton"}],data:n})]})},je=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).drawerClickHandler=function(){r.setState((function(e){return{sideDrawerOpen:!e.sideDrawerOpen}}))},r.backdropClickHandler=function(){r.setState({sideDrawerOpen:!1})},r.logOut=r.logOut.bind(Object(i.a)(r)),r.state={currentUser:void 0,sideDrawerOpen:!1,company:"",error:!1},r}return Object(s.a)(a,[{key:"logOut",value:function(){L.logout(),this.setState({currentUser:null})}},{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"componentDidMount",value:function(){var e=L.getCurrentUser();e&&this.setState({currentUser:e,company:e.company})}},{key:"render",value:function(){var e,t=this;return this.state.sideDrawerOpen&&(e=Object(u.jsx)(m,{click:this.backdropClickHandler})),Object(u.jsx)(p.a,{children:Object(u.jsx)("div",{className:"App",style:{height:"100%"},children:Object(u.jsxs)("main",{style:{marginTop:"64px"},children:[this.state.currentUser&&!this.state.error?Object(u.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(u.jsx)(j,{drawerClickHandler:this.drawerClickHandler,logout:this.logOut,company:this.state.company}),Object(u.jsx)(b,{show:this.state.sideDrawerOpen,menu:J()}),e]}):Object(u.jsx)("div",{className:"nav-link-wrapper",children:Object(u.jsx)(p.b,{to:"/login",className:"nav-link",onClick:function(){t.setState({error:!1})},children:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"})}),Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:"/login",component:z}),Object(u.jsx)(h.a,{path:"/register",component:X}),Object(u.jsx)(h.a,{path:"/users",component:oe}),Object(u.jsx)(h.a,{path:"/cert/add",component:ne}),Object(u.jsx)(h.a,{path:"/cert/self/add",component:ae}),Object(u.jsx)(h.a,{path:"/cert/self/:id",component:te}),Object(u.jsx)(h.a,{path:"/cert/self",component:D}),Object(u.jsx)(h.a,{path:"/cert",component:I}),Object(u.jsx)(h.a,{path:"/profile",component:Y}),Object(u.jsx)(h.a,{path:"/occupation/add",component:ce}),Object(u.jsx)(h.a,{path:"/occupation",component:$}),Object(u.jsx)(h.a,{path:"/notifications",component:se}),Object(u.jsx)(h.a,{path:"/calendar",component:le}),Object(u.jsx)(h.a,{path:"/employees/cert/:id",component:te}),Object(u.jsx)(h.a,{path:"/employees/cert",component:de}),Object(u.jsx)(h.a,{path:"/employees",component:ue}),Object(u.jsx)(h.a,{path:"/"})]})]})})})}}]),a}(c.a.Component),be=a(24),me=a.n(be);a(231);me.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(je,{})}),document.getElementById("root"))},44:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){}},[[232,1,2]]]);
//# sourceMappingURL=main.e107cfdb.chunk.js.map